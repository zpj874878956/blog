---
title: sonarqube使用docker部署
date: 2024-04-25 14:39:33
permalink: /pages/9f8f33/
categories:
  - 运维
  - 系统
  - sonarqube
tags:
  - 
---

# 部署文件

```yaml
version: '3.1'

services:

  db:
    image: postgres
    container_name: db
    ports:
      - 5432:5432
    networks:
      - sonarnet
    environment:
      POSTGRES_USER: sonar
      POSTGRES_PASSWORD: sonar

  sonarqube:
    image: sonarqube:latest
    container_name: sonarqube
    depends_on:
      - db
    ports:
      - 9000:9000
    networks:
      - sonarnet
    environment:
      SONAR_JDBC_URL: jdbc:postgresql://db:5432/sonar
      SONAR_JDBC_USERNAME: sonar
      SONAR_JDBC_PASSWORD: sonar

networks:
  sonarnet:
    driver: bridge
```

# 启动报错问题处理

    bootstrap check failure [1] of [1]: max virtual memory areas
     vm.max_map_count [65530] is too low, increase to at least [262144]

**解决方法**

```bash
vim /etc/sysctl.conf
#加载配置
vm.max_map_count=262144
sysctl -p
```

# 控制台设置中文

默认登录账号密码admin

![](http://pic.zzppjj.top/LightPicture/2024/04/425988697062b1e7.png)

注：不建议使用docker部署，在手动安装插件会有启动不了的情况
