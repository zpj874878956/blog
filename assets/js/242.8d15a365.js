(window.webpackJsonp=window.webpackJsonp||[]).push([[242],{595:function(t,p,s){"use strict";s.r(p);var e=s(0),i=Object(e.a)({},(function(){var t=this,p=t._self._c;return p("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[p("p",[t._v("项目需要，需要从Jenkins上执行命令启动Window10 上的selenium自动化UI测试脚本。Jenkins部署在linux上，因此需要设置linux ssh免密登录Windows10，已实现功能。")]),t._v(" "),p("p",[t._v("1、Windows 10 安装OpenSSH服务")]),t._v(" "),p("p",[t._v("进入Windows 10 设置-应用-可选功能，添加可选应用，找到OpenSSH服务端并安装")]),t._v(" "),p("p",[t._v("2、配置OpenSSH服务端的配置文件")]),t._v(" "),p("p",[t._v("为了是OpenSSH 服务端允许使用密钥进行ssh连接，需要进行配置。配置文件地址如下：")]),t._v(" "),p("p",[t._v("C:\\ProgramData\\ssh\\sshd_config，打开这个配置文件，将PubkeyAuthentication yes的注释打开，将最后两行进行注释，并保存。如下图所示：")]),t._v(" "),p("p",[p("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/d3e0442a2ba297aa.jpg",alt:"d3e0442a2ba297aa.jpg"}})]),t._v(" "),p("p",[p("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/a01703b02aa965e0.jpg",alt:"a01703b02aa965e0.jpg"}})]),t._v(" "),p("p",[t._v("2、配置OpenSSH服务端的配置文件")]),t._v(" "),p("p",[t._v("为了是OpenSSH 服务端允许使用密钥进行ssh连接，需要进行配置。配置文件地址如下：")]),t._v(" "),p("p",[t._v("C:\\ProgramData\\ssh\\sshd_config，打开这个配置文件，将PubkeyAuthentication yes的注释打开，将最后两行进行注释，并保存。如下图所示\n"),p("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/8166352878b4b042.jpg",alt:"8166352878b4b042.jpg"}})]),t._v(" "),p("p",[p("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/6dc1393c3bcc08bb.jpg",alt:"6dc1393c3bcc08bb.jpg"}})]),t._v(" "),p("p",[t._v("3、Linux上生成公钥和私钥")]),t._v(" "),p("p",[t._v("登录Jenkins所在的linux服务器，进入/root/.ssh目录，执行如下命令生成公钥id_rsa.pub和私钥id_rsa")]),t._v(" "),p("p",[t._v("ssh-keygen -t rsa -f id_rsa")]),t._v(" "),p("p",[t._v("之后在Windows 10的用户目录下创建authorized_keys文件，将linux下生成的id_rsa.pub内容复制到authorized_keys文件中，如下图所示：")]),t._v(" "),p("p",[p("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/f2aad266c2df67ca.jpg",alt:"f2aad266c2df67ca.jpg"}})]),t._v(" "),p("p",[t._v("4、Windows 10上，管理员权限启动cmd，并输入net  start sshd启动OpenSSH服务")]),t._v(" "),p("p",[p("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/f5cb6deded3fb4be.jpg",alt:"f5cb6deded3fb4be.jpg"}})]),t._v(" "),p("p",[t._v("5、测试")]),t._v(" "),p("p",[t._v("在linux上输入如下命令测试免密登录，如果直接登录，则免密配置成功")]),t._v(" "),p("p",[t._v("ssh -i ./id_rsa dd@192.168.13.31")]),t._v(" "),p("hr"),t._v(" "),p("p",[p("a",{attrs:{href:"https://blog.csdn.net/zhaodengdeng1984/article/details/121654821",target:"_blank",rel:"noopener noreferrer"}},[t._v("原文链接"),p("OutboundLink")],1)])])}),[],!1,null,null,null);p.default=i.exports}}]);