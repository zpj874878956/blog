(window.webpackJsonp=window.webpackJsonp||[]).push([[327],{680:function(s,t,a){"use strict";a.r(t);var e=a(0),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h3",{attrs:{id:"步骤1-下载服务器端软件程序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#步骤1-下载服务器端软件程序"}},[s._v("#")]),s._v(" 步骤1: 下载服务器端软件程序")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/rustdesk/rustdesk-server/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载"),t("OutboundLink")],1),s._v("或者使用docker "),t("a",{attrs:{href:"https://hub.docker.com/r/rustdesk/rustdesk-server/tags",target:"_blank",rel:"noopener noreferrer"}},[s._v("rustdesk/rustdesk-server"),t("OutboundLink")],1),s._v("。")]),s._v(" "),t("p",[s._v("提供版本：")]),s._v(" "),t("ul",[t("li",[s._v("Linux")]),s._v(" "),t("li",[s._v("Windows")])]),s._v(" "),t("p",[s._v("以下针对Linux版本做使用说明。")]),s._v(" "),t("p",[s._v("有两个可执行文件和一个文件夹:")]),s._v(" "),t("ul",[t("li",[s._v("hbbs - RustDesk ID注册服务器")]),s._v(" "),t("li",[s._v("hbbr - RustDesk 中继服务器")])]),s._v(" "),t("p",[s._v("Linux版本在Centos7构建，在 Centos7/8，Ubuntu 18/20上测试过，Debian系列的发行版本应该都没有问题。如果有其他发行版本需求，请联系我。")]),s._v(" "),t("h4",{attrs:{id:"服务器要求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务器要求"}},[s._v("#")]),s._v(" 服务器要求")]),s._v(" "),t("p",[s._v("硬件要求很低，最低配置的云服务器就可以了，CPU和内存要求都是最小的。关于网络大小，如果TCP打洞直连失败，就要耗费中继流量，一个中继连接的流量在30k-3M每秒之间（1920x1080屏幕），取决于清晰度设置和画面变化。如果只是办公需求，平均在100K/s。")]),s._v(" "),t("h3",{attrs:{id:"步骤2-在服务器上运行-hbbs-和-hbbr"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#步骤2-在服务器上运行-hbbs-和-hbbr"}},[s._v("#")]),s._v(" 步骤2: 在服务器上运行 hbbs 和 hbbr")]),s._v(" "),t("p",[s._v("在服务器上运行 hbbs/hbbr (Centos 或 Ubuntu)。建议使用"),t("a",{attrs:{href:"https://pm2.keymetrics.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("pm2"),t("OutboundLink")],1),s._v(" 管理服务。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("./hbbs -r <hbbr运行所在主机的地址[:port]> \n./hbbr\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("或者使用 pm2 运行 hbbs/hbbr")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("pm2 start hbbs -- -r <relay-server-ip[:port]> \npm2 start hbbr \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("code",[s._v("pm2")]),s._v(" 需要 nodejs v16+，如果你运行 pm2 失败（例如在 "),t("code",[s._v("pm2 list")]),s._v(" 中看不到 hbbs/hbbr），请从 "),t("a",{attrs:{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://nodejs.org"),t("OutboundLink")],1),s._v(" 下载并安装 LTS 版本的 nodejs。 如果你想让 hbbs/hbbr 在重启后自动运行，请查看 "),t("code",[s._v("pm2 save")]),s._v(" 和 "),t("code",[s._v("pm2 startup")]),s._v("。 更多关于 "),t("a",{attrs:{href:"https://pm2.keymetrics.io/docs/usage/quick-start/",target:"_blank",rel:"noopener noreferrer"}},[s._v("pm2"),t("OutboundLink")],1),s._v("。另一个不错的日志工具是 "),t("a",{attrs:{href:"https://github.com/keymetrics/pm2-logrotate",target:"_blank",rel:"noopener noreferrer"}},[s._v("pm2-logrotate"),t("OutboundLink")],1),s._v("。")]),s._v(" "),t("p",[s._v("hhbs的"),t("code",[s._v("-r")]),s._v("参数不是必须的，他只是方便你不用在客户端指定中继服务器，如果是默认21117端口，可以不填port。客户端指定的中继服务器优先级高于这个。")]),s._v(" "),t("p",[s._v("默认情况下，hbbs 监听21115(tcp), 21116(tcp/udp), 21118(tcp)，hbbr 监听21117(tcp), 21119(tcp)。务必在防火墙开启这几个端口， "),t("strong",[s._v("请注意21116同时要开启TCP和UDP")]),s._v("。其中21115是hbbs用作NAT类型测试，21116/UDP是hbbs用作ID注册与心跳服务，21116/TCP是hbbs用作TCP打洞与连接服务，21117是hbbr用作中继服务, 21118和21119是为了支持网页客户端。如果您不需要网页客户端（21118，21119）支持，对应端口可以不开。")]),s._v(" "),t("ul",[t("li",[s._v("TCP("),t("strong",[s._v("21115, 21116, 21117, 21118, 21119")]),s._v(")")]),s._v(" "),t("li",[s._v("UDP("),t("strong",[s._v("21116")]),s._v(")")])]),s._v(" "),t("p",[s._v("如果你想选择"),t("strong",[s._v("自己的端口")]),s._v("，使用 “-h” 选项查看帮助。")]),s._v(" "),t("h4",{attrs:{id:"docker示范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker示范"}},[s._v("#")]),s._v(" Docker示范")]),s._v(" "),t("p",[s._v("如果你运行 docker 版本时候，要求注册码，说明你下载的是老版本，国内的 docker 镜像缓存没有更新")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo docker image pull rustdesk/rustdesk-server\nsudo docker run --name hbbs -p 21115:21115 -p 21116:21116 -p 21116:21116/udp -p 21118:21118 -v `pwd`:/root -td --net=host rustdesk/rustdesk-server hbbs -r <relay-server-ip[:port]>\nsudo docker run --name hbbr -p 21117:21117 -p 21119:21119 -v `pwd`:/root -td --net=host rustdesk/rustdesk-server hbbr\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h5",{attrs:{id:"docker-compose"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose"}},[s._v("#")]),s._v(" Docker Compose")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("networks")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("rustdesk-net")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("external")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("false")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("services")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("hbbs")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("container_name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hbbs\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" 21115"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21115")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" <hbbs_port"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21116")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自定义 hbbs 映射端口")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" <hbbs_port"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("21116/udp "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自定义 hbbs 映射端口")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" rustdesk/rustdesk"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("server\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("command")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hbbs "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("r <your_domain"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("<hbbr_port"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 填入个人域名或 IP + hbbr 暴露端口")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" <mount_path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/root "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自定义挂载目录")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("networks")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" rustdesk"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("net\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("depends_on")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" hbbr\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("restart")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" unless"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("stopped\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("deploy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("resources")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("limits")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("memory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 64M\n\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("hbbr")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("container_name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hbbr\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" <hbbr_port"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21117")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自定义 hbbr 映射端口")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" rustdesk/rustdesk"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("server\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("command")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hbbr\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" <mount_path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/root "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自定义挂载目录")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("networks")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" rustdesk"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("net\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("restart")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" unless"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("stopped\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("deploy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("resources")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("limits")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("memory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 64M\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br")])]),t("p",[s._v("据我所知，–net=host 仅适用于 Linux，它让 hbbs/hbbr 可以看到对方真实的ip, 而不是固定的容器ip (172.17.0.1)。 如果–net=host运行正常，-p选项就不起作用了, 可以去掉。")]),s._v(" "),t("p",[t("strong",[s._v("请去掉 –net=host，如果您在非Linux系统上遇到无法连接的问题")])]),s._v(" "),t("h3",{attrs:{id:"步骤3-在客户端设置-hbbs-hbbr-地址"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#步骤3-在客户端设置-hbbs-hbbr-地址"}},[s._v("#")]),s._v(" 步骤3: 在客户端设置 hbbs/hbbr 地址")]),s._v(" "),t("p",[s._v("点击 ID 右侧的菜单按钮如下，选择“ ID/中继服务器”。")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2024/05/10e0f04eb086c713.png",alt:""}})]),s._v(" "),t("p",[s._v("在 ID 服务器输入框中（被控端+主控端）输入 hbbs 主机或 ip 地址，另外两个地址可以不填，RustDesk会自动推导（如果没有特别设定），中继服务器指的是hbbr（21117）端口。")]),s._v(" "),t("p",[s._v("例如:")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("hbbs.example.com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("或者")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("hbbs.example.com:21116\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2024/05/5675eb319c19a7a0.png",alt:""}})]),s._v(" "),t("h4",{attrs:{id:"把配置放在可执行文件名里-windows-only"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#把配置放在可执行文件名里-windows-only"}},[s._v("#")]),s._v(" 把配置放在可执行文件名里 (Windows only)")]),s._v(" "),t("p",[s._v("把"),t("code",[s._v("rustdesk.exe")]),s._v(" 修改为 rustdesk-"),t("code",[s._v("host=<host-ip-or-name>,key=<public-key-string>")]),s._v(".exe, 例如： rustdesk-"),t("code",[s._v("host=192.168.1.137,key=xfdsfsd32=32")]),s._v(".exe，你可以在About窗口看到配置结果，如下图所示。")]),s._v(" "),t("p",[t("code",[s._v("host")]),s._v(" 和 "),t("code",[s._v("key")]),s._v(" 都需要添加，缺少一个就不好使。")]),s._v(" "),t("p",[s._v("If there are invalid characters in the key which can not be used in file name, please remove id_ed25519 file and restart your hbbs/hbbr, the id_ed25519.pub file will be regenerated, please repeat until you get valid characters.")]),s._v(" "),t("h2",{attrs:{id:"key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#key"}},[s._v("#")]),s._v(" Key")]),s._v(" "),t("hr"),s._v(" "),t("p",[s._v("同上个版本不同，本版本中的key是强制的，但是不用你自己设置。hbbs在第一次运行时，会自动产生一对加密私钥和公钥（分别位于运行目录下的"),t("code",[s._v("id_ed25519")]),s._v("和"),t("code",[s._v("id_ed25519.pub")]),s._v("文件中），其主要用途是为了通讯加密。")]),s._v(" "),t("p",[s._v("如果您在上一步骤中没有填写"),t("code",[s._v("Key:")]),s._v("(公钥文件"),t("code",[s._v("id_ed25519.pub")]),s._v("中的内容)，不影响连接，但是连接无法加密。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cat ./id_ed25519.pub\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("如果您禁止没有key的用户建立非加密连接，请在运行hbbs和hbbr的时候添加"),t("code",[s._v("-k _")]),s._v(" 参数，例如:")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("./hbbs -r <relay-server-ip[:port]> -k _\n./hbbr -k _\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("如果要更改key，请删除 "),t("code",[s._v("id_ed25519")]),s._v(" 和 "),t("code",[s._v("id_ed25519.pub")]),s._v(" 文件并重新启动 hbbs/hbbr，hbbs将会产生新的密钥对。")]),s._v(" "),t("hr"),s._v(" "),t("p",[t("a",{attrs:{href:"https://rustdesk.com/docs/zh-cn/self-host/rustdesk-server-oss/install/",target:"_blank",rel:"noopener noreferrer"}},[s._v("原文链接"),t("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=n.exports}}]);