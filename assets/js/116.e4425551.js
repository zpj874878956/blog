(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{469:function(a,s,e){"use strict";e.r(s);var t=e(0),r=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h5",{attrs:{id:"一、elasticsearch-head"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、elasticsearch-head"}},[a._v("#")]),a._v(" 一、elasticsearch-head")]),a._v(" "),s("h6",{attrs:{id:"_1、拉取镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、拉取镜像"}},[a._v("#")]),a._v(" 1、拉取镜像")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker pull mobz/elasticsearch-head:5\ndocker tag docker.io/mobz/elasticsearch-head:5 es_head\ndocker rmi docker.io/mobz/elasticsearch-head:5\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h6",{attrs:{id:"_2、创建容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、创建容器"}},[a._v("#")]),a._v(" 2、创建容器")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker run -itd --name es_head -p 9100:9100 es_head\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h6",{attrs:{id:"_3、访问-192-168-78-200-9100"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、访问-192-168-78-200-9100"}},[a._v("#")]),a._v(" 3、访问 192.168.78.200:9100")]),a._v(" "),s("p",[s("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2024/04/ecf46e9f9e6fa1e0.png",alt:""}})]),a._v(" "),s("h6",{attrs:{id:"_4、通过postman添加为es集群添加一个索引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、通过postman添加为es集群添加一个索引"}},[a._v("#")]),a._v(" 4、通过postman添加为es集群添加一个索引")]),a._v(" "),s("p",[s("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2024/04/17ea87a0734aba11.png",alt:""}})]),a._v(" "),s("p",[a._v("测试json：")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('{\n    "settings": {\n        "number_of_shards": 3,\n        "number_of_replicas": 1\n    },\n    "mappings": {\n        "properties": {\n            "id": {\n                "type": "keyword"\n            },\n            "country": {\n                "type": "keyword"\n            },\n            "remark": {\n                "type": "text"\n            }\n        }\n    }\n}\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br")])]),s("h6",{attrs:{id:"_5、我们再访问192-168-78-200-9100-查看结果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5、我们再访问192-168-78-200-9100-查看结果"}},[a._v("#")]),a._v(" 5、我们再访问192.168.78.200:9100，查看结果：")]),a._v(" "),s("p",[s("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2024/04/4810b1b47eb83096.png",alt:""}})]),a._v(" "),s("h6",{attrs:{id:"_6、总结及注意"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6、总结及注意"}},[a._v("#")]),a._v(" 6、总结及注意")]),a._v(" "),s("p",[a._v("通过elasticsearch-head，我们可以清晰看到数据分片情况，这点是kibana做不到的，后续使用时会有深刻感受，二者结合才是王道。")]),a._v(" "),s("p",[a._v("注意：如果这一步没有添加成功，返回结果是"),s("code",[a._v('{ "acknowledged": true, "shards_acknowledged": false}')]),a._v(" ，那很有可能是磁盘空间不足了。")]),a._v(" "),s("p",[a._v("使用"),s("code",[a._v("df -h")]),a._v("命令查看一下，超过95%使用率，es就不会再允许往es里写数据了。")]),a._v(" "),s("p",[s("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2024/04/dbdd2e73003e9e2d.png",alt:""}})]),a._v(" "),s("h5",{attrs:{id:"二、kibana"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、kibana"}},[a._v("#")]),a._v(" 二、kibana")]),a._v(" "),s("h6",{attrs:{id:"_1、拉取镜像-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、拉取镜像-2"}},[a._v("#")]),a._v(" 1、拉取镜像")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker pull kibana:7.14.1\ndocker tag docker.io/kibana:7.14.1 kibana\ndocker rmi docker.io/kibana:7.14.1\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h6",{attrs:{id:"_2、创建容器-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、创建容器-2"}},[a._v("#")]),a._v(" 2、创建容器")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker run -itd --name kibana --network elasticsearch_default --link es_101:elasticsearch -p 5800:5601 kibana\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("注意，我这里指定了kibana容器和es集群的三个容器使用了同一个网络，所以可以直接用容器名做外连，将kibana内部配置文件中的elasticsearch直接解析为es_101。")]),a._v(" "),s("p",[a._v("如果不指定使用es的网络，则需要进入容器内配置ElasticSearch的实际ip地址")]),a._v(" "),s("h6",{attrs:{id:"_3、查看结果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、查看结果"}},[a._v("#")]),a._v(" 3、查看结果")]),a._v(" "),s("p",[a._v("访问 http://192.168.78.200:5800/app/dev_tools#/console")]),a._v(" "),s("p",[s("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2024/04/081b411f480b6522.png",alt:""}})]),a._v(" "),s("h5",{attrs:{id:"三、elastichd"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、elastichd"}},[a._v("#")]),a._v(" 三、elasticHD")]),a._v(" "),s("h6",{attrs:{id:"_1、下载镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、下载镜像"}},[a._v("#")]),a._v(" 1、下载镜像")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker pull containerize/elastichd\ndocker tag docker.io/containerize/elastichd elastichd\ndocker rmi docker.io/containerize/elastichd\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h6",{attrs:{id:"_2、创建容器-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、创建容器-3"}},[a._v("#")]),a._v(" 2、创建容器")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker run -p 5900:9800 -d --network elasticsearch_default --link es_101:demo elastichd\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h6",{attrs:{id:"_3、查看结果-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、查看结果-2"}},[a._v("#")]),a._v(" 3、查看结果")]),a._v(" "),s("p",[a._v("访问 "),s("a",{attrs:{href:"http://192.168.78.200:5900/",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://192.168.78.200:5900"),s("OutboundLink")],1)]),a._v(" "),s("p",[s("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2024/04/a10660c4f291678f.png",alt:""}})]),a._v(" "),s("hr"),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.haveyb.com/article/2830",target:"_blank",rel:"noopener noreferrer"}},[a._v("原文链接"),s("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=r.exports}}]);