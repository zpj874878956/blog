(window.webpackJsonp=window.webpackJsonp||[]).push([[234],{586:function(s,a,t){"use strict";t.r(a);var n=t(0),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"查看centos7-系统时区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看centos7-系统时区"}},[s._v("#")]),s._v(" 查看centos7 系统时区")]),s._v(" "),a("p",[s._v("首先，在centos7 系统可以使用命令：【timedatectl】查看系统的时区；使用timedatectl显示的结果如下：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("timedatectl \n      Local time: Tue "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2023")]),s._v("-06-27 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":37:29 CST\n  Universal time: Tue "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2023")]),s._v("-06-27 09:37:29 UTC\n        RTC time: Tue "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2023")]),s._v("-06-27 09:37:28\n       Time zone: Asia/Shanghai "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CST, +0800"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n     NTP enabled: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\nNTP synchronized: no\n RTC "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" TZ: no\n      DST active: n/a\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h2",{attrs:{id:"修改系统时区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改系统时区"}},[s._v("#")]),s._v(" 修改系统时区")]),s._v(" "),a("p",[s._v("如果上面的结果显示本系统的时区不正确，则应该使用命令对时区进行修改")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("timedatectl set-timezone Asia/Shanghai\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如上面的命令，将系统时区设置为上海，这是因为我想使用上海的时间，当然你也可以通过指定其他的时区，将系统时间对齐为其他地区的时间。"),a("br"),s._v("\n如果想选用其他的时区，而有不知道其时区的具体写法，可以使用下面查看所有时区")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 查看所有时区名称")]),s._v("\ntimedatectl list-timezones\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 查看亚洲各地的时区名称")]),s._v("\ntimedatectl list-timezones "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" Asia\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"修改系统时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改系统时间"}},[s._v("#")]),s._v(" 修改系统时间")]),s._v(" "),a("p",[s._v("同步系统时间（自动）\n在同步系统时间的之前，首先需要修改系统的时区，这样在同步系统时间的时候才会将系统时间对齐到该时区。在同步系统时间时，由于起初并未修改系统的时区，导致每次同步系统时间都和宿主机不一致。宿主机使用的时间就是日常生活中使用的北京时间，但每次执行命令后，系统的时间都和北京时间不一致。最初我以为是同步系统时间的命令写错了，但是后来修改了系统时区之后，再次使用相同的同步命令，系统时间就同步为北京时间了。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 同步系统时间的命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 语法格式：ntpdate 时间校准服务器域名/ip")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1.使用域名进行同步")]),s._v("\nntpdate cn.pool.ntp.org\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2.使用ip进行同步")]),s._v("\nntpdate "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("210.72")]),s._v(".145.44\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1和2是等效的")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("使用该命令的前提是，linux服务器能够连接公网，如果有些同学希望在内网的服务器进行系统时间同步，则需要询问自己公司的时间校准服务器。\n当然公网的时间服务器一般来说有下面3个，大家可以随意使用：\n1）美国标准技术院时间服务器：time.nist.gov（192.43.244.18）\n2）上海交通大学网络中心NTP服务器地址：ntp.sjtu.edu.cn（202.120.2.101）\n3）中国国家授时中心服务器地址：cn.pool.ntp.org（210.72.145.44）")]),s._v(" "),a("h3",{attrs:{id:"手动修改系统时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#手动修改系统时间"}},[s._v("#")]),s._v(" 手动修改系统时间")]),s._v(" "),a("p",[s._v("当然修改系统时间除了像上面使用时间服务器进行修改，也可以手动修改系统时间，具体命令是：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20211001 20:00:00"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"查看系统时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看系统时间"}},[s._v("#")]),s._v(" 查看系统时间")]),s._v(" "),a("p",[s._v("在同步系统时间后，可以使用date命令查看当前系统的时间")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Tue Jun "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":43:17 CST "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2023")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"设置定时任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置定时任务"}},[s._v("#")]),s._v(" 设置定时任务")]),s._v(" "),a("p",[s._v("在进行手动同步系统时间之后，我们也可以写一个定时任务，定时进行系统时间同步，更新时间。"),a("br"),s._v("\n如下面的命令，设定了一个在每天凌晨12点进行系统时间同步定时任务。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 编辑定时任务列表")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 像使用vim一样对定时任务列表进行编辑，保存退出即可生效")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" * * * ntpdate cn.pool.ntp.org\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("hr"),s._v(" "),a("p",[a("a",{attrs:{href:"https://blog.csdn.net/Chaolei3/article/details/122870275",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考链接"),a("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=e.exports}}]);