(window.webpackJsonp=window.webpackJsonp||[]).push([[189],{541:function(s,a,t){"use strict";t.r(a);var e=t(0),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"centos7-9中安装python3-9-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos7-9中安装python3-9-9"}},[s._v("#")]),s._v(" centos7.9中安装python3.9.9")]),s._v(" "),a("h3",{attrs:{id:"_1-安装相应的编译工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装相应的编译工具"}},[s._v("#")]),s._v(" 1.安装相应的编译工具")]),s._v(" "),a("p",[s._v("在root用户下(不要用普通用户,麻烦),全部复制粘贴过去,一次性安装即可.")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" groupinstall "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Development tools"')]),s._v(" \nyum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel \nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" libffi-devel zlib1g-dev \nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" zlib* "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"_2-下载安装包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-下载安装包"}},[s._v("#")]),s._v(" 2.下载安装包")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://www.python.org/ftp/python/3.9.9/Python-3.9.9.tar.xz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_3-解压"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-解压"}},[s._v("#")]),s._v(" 3.解压")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-xvJf")]),s._v(" Python-3.9.9.tar.xz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_4-创建编译安装目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-创建编译安装目录"}},[s._v("#")]),s._v(" 4.创建编译安装目录")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /usr/local/python3\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_5-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-安装"}},[s._v("#")]),s._v(" 5.安装")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" Python-3.9.9 ./configure "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--prefix")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/python3 --with-ssl-default-suites"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("openssl "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#./configure --prefix=/usr/local/python3 --enable-optimizations --with-ssl-default-suites=openssl #第一个指定安装的路径,不指定的话,安装过程中可能软件所需要的文件复制到其他不同目录,删除软件很不方便,复制软件也不方便. #第二个可以提高python10%-20%代码运行速度，但是gcc小于8.1.0会报错是，见错误4 #第三个是为了安装pip需要用到ssl,后面报错会有提到，原选项 --with-ssl，此版本用 --with-ssl-default-suites=openssl。 make && make install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("https://stackoverflow.com/questions/41405728/what-does-enable-optimizations-do-while-compiling-python")]),s._v(" "),a("h3",{attrs:{id:"_6-创建软链接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-创建软链接"}},[s._v("#")]),s._v(" 6.创建软链接")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" /usr/local/python3/bin/python3 /usr/local/bin/python3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" /usr/local/python3/bin/pip3 /usr/local/bin/pip3\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_7-验证是否成功"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-验证是否成功"}},[s._v("#")]),s._v(" 7.验证是否成功")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("python3 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-V")]),s._v(" pip3 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-V")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_8-报错处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-报错处理"}},[s._v("#")]),s._v(" 8.报错处理")]),s._v(" "),a("p",[s._v("错误1.")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("zipimport.ZipImportError: can"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t decompress data; zlib not available Makefile:1099: recipe for target '")]),s._v("install' failed make: *** "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("install"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Error "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("需要安装依赖")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" zlib1g-dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("错误2.")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("ModuleNotFoundError: No module named "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'_ctypes'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("需要安装依赖")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" libffi-devel\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("这两个错误需要的依赖已经添加到一开始的依赖安装上去了")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://blog.csdn.net/elija940818/article/details/79238813",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考文章"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("错误3")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("使用如下编译会报警告 ./configure "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--prefix")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/python3 --enable-optimizations --with-ssl 警告如下 configure: WARNING: unrecognized options: --with-ssl\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"错误4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#错误4"}},[s._v("#")]),s._v(" 错误4")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Traceback "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("most recent call last"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": File "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/root/Python-3.9.9/Lib/runpy.py"')]),s._v(", line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("module"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" importlib.util File "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/root/Python-3.9.9/Lib/importlib/util.py"')]),s._v(", line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("module"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" from "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" abc File "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/root/Python-3.9.9/Lib/importlib/abc.py"')]),s._v(", line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("module"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" from typing "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" Protocol, runtime_checkable File "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/root/Python-3.9.9/Lib/typing.py"')]),s._v(", line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("module"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" collections SystemError: "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("built-in "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" compile"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" returned NULL without setting an error generate-posix-vars failed make"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": *** "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("pybuilddir.txt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Error "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" make"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Leaving directory `/root/Python-3.9.9' make: *** "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("profile-opt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Error "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("导致原因："),a("br"),s._v("\n在低版本的gcc中带有–enable-optimizations参数"),a("br"),s._v("\n解决方法（不推荐使用方法1）："),a("br"),s._v("\n1、升级gcc至高版本，gcc 8.1.0已修复此问题"),a("br"),s._v("\n2、./configure参数中去掉–enable-optimizations")]),s._v(" "),a("h3",{attrs:{id:"报错5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#报错5"}},[s._v("#")]),s._v(" 报错5")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Traceback "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("most recent call last"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n  File "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ed-monitor.py"')]),s._v(", line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("module"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" requests\n  File "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/python3/lib/python3.8/site-packages/requests/__init__.py"')]),s._v(", line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("43")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("module"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" urllib3\n  File "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/python3/lib/python3.8/site-packages/urllib3/__init__.py"')]),s._v(", line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("38")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("module"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    raise ImportError"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\nImportError: urllib3 v2.0 only supports OpenSSL "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.1")]),s._v(".1+, currently the "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ssl'")]),s._v(" module is compiled with OpenSSL "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(".2k-fips  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v(" Jan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v(". See: https://github.com/urllib3/urllib3/issues/2168\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("这个问题是python版本安装的 urllib3版本过高，而openssl版本太低导致的"),a("br"),s._v("\n解决无非两种方法，降低urllib3版本或者升级openssl版本"),a("br"),s._v("\n下面2选其一")]),s._v(" "),a("p",[a("strong",[s._v("升级openssl版本")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("//只针对centos，如果是ubunt系统，把yum改 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" update\nyum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" openssl@1.1\n//安装好后，查看openssl版本是否升级到最新\npython "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"import ssl; print(ssl.OPENSSL_VERSION)"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[a("strong",[s._v("降低urllib版本")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("python3 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" pip "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("urllib3")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.26")]),s._v(".6\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_9-安装pipenv"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-安装pipenv"}},[s._v("#")]),s._v(" 9.安装pipenv")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("pip "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" pipenv\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在centos中使用python3.7或以上版本,进行pip install 命令容易报错")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("pip is configured with locations that require TLS/SSL, however the ssl module "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" Python is not available. Could not fetch URL https:*******: There was a problem confirming the ssl certificate: Can't connect to HTTPS URL because the SSL module is not available. - skipping\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在./configure过程中，如果没有加上–with-ssl参数时，默认安装的软件涉及到ssl的功能不可用，刚好pip3过程需要ssl模块，而由于没有指定，所以该功能不可用。解决办法是重新对python3.9进行编译安装，用一下过程来实现编译安装:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" Python-3.9.9 ./configure --with-ssl-default-suites"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("openssl "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("即可正常使用pip安装."),a("br"),s._v("\n这个也在安装python的时候指定了.")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://blog.csdn.net/jeryjeryjery/article/details/77880227",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考文章"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"_10-修改pip安装源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-修改pip安装源"}},[s._v("#")]),s._v(" 10.修改pip安装源")]),s._v(" "),a("p",[s._v("修改系统pip安装源"),a("br"),s._v("\n在家目录下新建"),a("code",[s._v(".pip")]),s._v("文件夹,进入文件夹新建文件"),a("code",[s._v("pip.conf")]),s._v("之后写入相应镜像网站地址")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" .pip "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" .pip "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" pip.conf "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#进入后添加以下内容,保存退出. [global] index-url = https://mirrors.aliyun.com/pypi/simple")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("修改pipenv安装源"),a("br"),s._v("\n在自己的虚拟环境中找到"),a("code",[s._v("Pipfile")]),s._v("文件,将其中的"),a("code",[s._v('url = "https://pypi.org/simple"')]),s._v("修改为你需要的国内镜像,如"),a("code",[s._v("https://mirrors.aliyun.com/pypi/simple/")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("root@localhost myproject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# vim Pipfile [[source]] name = "pypi" url = "https://pypi.org/simple" # 改为url = "https://mirrors.aliyun.com/pypi/simple/" verify_ssl = true [dev-packages] #这里是开发环境专属包,使用pipenv install --dev package来安装专属开发环境的包 [packages] # 全部环境的通用包,安装在这里. [requires] python_version = "3.7"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("hr"),s._v(" "),a("p",[a("a",{attrs:{href:"%5Bcentos7.9%E4%B8%AD%E5%AE%89%E8%A3%85python3.9.9_%E4%B8%80%E7%94%9F%E5%8F%97%E7%9B%8A_%E6%80%9D%E9%9F%B5%E9%97%AA%E8%80%80%5D(http://www.13sy.com/m/view.php?aid=2181)"}},[s._v("原文链接")])])])}),[],!1,null,null,null);a.default=n.exports}}]);