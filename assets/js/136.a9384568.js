(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{490:function(s,a,n){"use strict";n.r(a);var t=n(0),e=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"artifactory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#artifactory"}},[s._v("#")]),s._v(" artifactory")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v(".build:\n  stage: build\n  tags:\n    - build\n  script: \n    - "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BUILD_SHELL")]),s._v("\n    - "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n\n.deploy-artifact:\n  stage: deploy-artifact\n  tags:\n    - build\n  script:\n    - "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -u"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ARTIFACT_USER}")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ARTIFACT_PASSWD}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-T")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ARTIFACT_PATH}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ARTIFACTORY_URL")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ARTIFACTORY_NAME")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$TARGET_FILE_PATH")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$TARGET_ARTIFACT_NAME")]),s._v('"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("p",[s._v("定义变量")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2024/04/7460c73d41a437a1.png",alt:"7460c73d41a437a1.png"}})]),s._v(" "),a("p",[s._v("template")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("include:\n  - project: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cidevops/cidevops-gitlabci-service'")]),s._v("\n    ref: master\n    file: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jobs/build.yml'")]),s._v("\n  - project: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cidevops/cidevops-gitlabci-service'")]),s._v("\n    ref: master\n    file: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jobs/test.yml'")]),s._v("\n  - project: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cidevops/cidevops-gitlabci-service'")]),s._v("\n    ref: master\n    file: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jobs/codeanalysis.yml'")]),s._v("\n\nvariables:\n  BUILD_SHELL: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mvn clean package  -DskipTests'")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##构建命令")]),s._v("\n  CACHE_DIR: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'target/'")]),s._v("\n  TEST_SHELL "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mvn test'")]),s._v("                                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##测试命令")]),s._v("\n  JUNIT_REPORT_PATH: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'target/surefire-reports/TEST-*.xml'")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##单元测试报告")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 代码扫描")]),s._v("\n  SCANNER_HOME "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/buildtools/sonar-scanner-3.2.0.1227-linux"')]),s._v("\n  SCAN_DIR "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"src"')]),s._v("\n  ARTIFACT_PATH "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'target/*.jar'")]),s._v("                            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##制品目录")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#上传制品库")]),s._v("\n  ARTIFACTORY_URL: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://192.168.1.200:30082/artifactory"')]),s._v("\n  ARTIFACTORY_NAME: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cidevops"')]),s._v("\n  TARGET_FILE_PATH: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_PROJECT_NAMESPACE")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_PROJECT_NAME")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_COMMIT_REF_NAME")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_COMMIT_SHORT_SHA")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_PIPELINE_ID")]),s._v('"')]),s._v("\n  TARGET_ARTIFACT_NAME: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_PROJECT_NAME")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_COMMIT_REF_NAME")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_COMMIT_SHORT_SHA")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_PIPELINE_ID")]),s._v('.jar"')]),s._v("\n\n\n  \ncache:\n  paths:\n    - "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CACHE_DIR}")]),s._v("\n    \nstages:\n  - build\n  - "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n  - parallel01\n\n\nbuild:\n  stage: build\n  extends: .build\n  rules:\n    - when: on_success\n\n\ntest:\n  stage: "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n  extends: .test\n  rules:\n    - when: on_success\n\n  \ncode_analysis:\n  stage: parallel01\n  extends: .codeanalysis-java\n  \ncodeanalysis_mr:\n  stage: parallel01\n  extends: .codeanalysis-mr\n  \ndeploy_artifact:\n  stage: parallel01\n  extends: .deploy-artifact\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br")])]),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2024/04/d2d37dad2907c86b.png",alt:"d2d37dad2907c86b.png"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2024/04/ca9a0df011235312.png",alt:"ca9a0df011235312.png"}})]),s._v(" "),a("p",[s._v("下载制品")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v(".down-artifact:\n  stage: down-artifact\n  tags:\n    - build\n  script:\n    - "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -u"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ARTIFACT_USER}")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ARTIFACT_PASSWD}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-O")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ARTIFACTORY_URL")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ARTIFACTORY_NAME")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$TARGET_FILE_PATH")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$TARGET_ARTIFACT_NAME")]),s._v('"')]),s._v("\n    - "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("template")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("down_artifact:  \n  stage: down_artifact\n  extends: .down-artifact\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2024/04/f5145a0c3207d319.png",alt:"f5145a0c3207d319.png"}})]),s._v(" "),a("h3",{attrs:{id:"镜像仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#镜像仓库"}},[s._v("#")]),s._v(" 镜像仓库")]),s._v(" "),a("p",[s._v("https://cr.console.aliyun.com/cn-beijing/instances/repositories")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2024/04/c6b1e80e27a4924d.png",alt:"c6b1e80e27a4924d.png"}})]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v(".build-docker:\n  stage: buildimage\n  tags:\n    - build\n  script:\n    - "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" login "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_REGISTRY_USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_REGISTRY_PASSWD")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_REGISTRY")]),s._v("\n    - "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" build "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${IMAGE_NAME}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${DOCKER_FILE_PATH}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n    - "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" push "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${IMAGE_NAME}")]),s._v(" \n    - "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${IMAGE_NAME}")]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("include:\n  - project: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cidevops/cidevops-gitlabci-service'")]),s._v("\n    ref: master\n    file: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jobs/build.yml'")]),s._v("\n  - project: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cidevops/cidevops-gitlabci-service'")]),s._v("\n    ref: master\n    file: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jobs/test.yml'")]),s._v("\n  - project: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cidevops/cidevops-gitlabci-service'")]),s._v("\n    ref: master\n    file: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jobs/codeanalysis.yml'")]),s._v("\n\nvariables:\n  BUILD_SHELL: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mvn clean package  -DskipTests'")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##构建命令")]),s._v("\n  CACHE_DIR: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'target/'")]),s._v("\n  TEST_SHELL "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mvn test'")]),s._v("                                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##测试命令")]),s._v("\n  JUNIT_REPORT_PATH: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'target/surefire-reports/TEST-*.xml'")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##单元测试报告")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 代码扫描")]),s._v("\n  SCANNER_HOME "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/buildtools/sonar-scanner-3.2.0.1227-linux"')]),s._v("\n  SCAN_DIR "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"src"')]),s._v("\n  ARTIFACT_PATH "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'target/*.jar'")]),s._v("                            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##制品目录")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#上传制品库")]),s._v("\n  ARTIFACTORY_URL: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://192.168.1.200:30082/artifactory"')]),s._v("\n  ARTIFACTORY_NAME: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cidevops"')]),s._v("\n  TARGET_FILE_PATH: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_PROJECT_NAMESPACE")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_PROJECT_NAME")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_COMMIT_REF_NAME")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_COMMIT_SHORT_SHA")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_PIPELINE_ID")]),s._v('"')]),s._v("\n  TARGET_ARTIFACT_NAME: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_PROJECT_NAME")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_COMMIT_REF_NAME")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_COMMIT_SHORT_SHA")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_PIPELINE_ID")]),s._v('.jar"')]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#构建镜像")]),s._v("\n  CI_REGISTRY: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'registry.cn-beijing.aliyuncs.com'")]),s._v("\n  CI_REGISTRY_USER: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'610556220zy'")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#CI_REGISTRY_PASSWD: 'xxxxxxxx.'")]),s._v("\n  IMAGE_NAME: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_REGISTRY")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_PROJECT_PATH")]),s._v(":"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_COMMIT_REF_NAME")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_COMMIT_SHORT_SHA")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CI_PIPELINE_ID")]),s._v('"')]),s._v("\n  DOCKER_FILE_PATH: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./Dockerfile"')]),s._v("\n\n\n  \ncache:\n  paths:\n    - "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CACHE_DIR}")]),s._v("\n    \nstages:\n  - build\n  - "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n  - parallel01\n  - down_artifact\n\n\nbuild:\n  stage: build\n  extends: .build\n  rules:\n    - when: on_success\n\n\ntest:\n  stage: "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n  extends: .test\n  rules:\n    - when: on_success\n\n  \ncode_analysis:\n  stage: parallel01\n  extends: .codeanalysis-java\n  \ncodeanalysis_mr:\n  stage: parallel01\n  extends: .codeanalysis-mr\n  \ndeploy_artifact:\n  stage: parallel01\n  extends: .deploy-artifact\n  \ndown_artifact:  \n  stage: down_artifact\n  extends: .down-artifact\n\n\nbuild_image:\n  stage: parallel01\n  extends: .build-docker\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br")])]),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2024/04/7460c73d41a437a1.png",alt:"7460c73d41a437a1.png"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2024/04/c3755a1a99587376.png",alt:"c3755a1a99587376.png"}})])])}),[],!1,null,null,null);a.default=e.exports}}]);