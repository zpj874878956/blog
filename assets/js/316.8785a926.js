(window.webpackJsonp=window.webpackJsonp||[]).push([[316],{669:function(s,a,t){"use strict";t.r(a);var e=t(0),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"_1-zabbix配置ldap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-zabbix配置ldap"}},[s._v("#")]),s._v(" 1.zabbix配置ldap")]),s._v(" "),a("p",[s._v("如图所示")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/2074c60001148c46.jpg",alt:"2074c60001148c46.jpg"}})]),s._v(" "),a("p",[s._v("注意事项，zabbix创建ldap用户，需要新建群组，创建用户选择ldap群组")]),s._v(" "),a("h3",{attrs:{id:"_2-gitlab"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-gitlab"}},[s._v("#")]),s._v(" 2.gitlab")]),s._v(" "),a("p",[s._v("配置如下")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#openldap")]),s._v("\ngitlab_rails"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ldap_enabled'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("###! **remember to close this block with 'EOS' below**")]),s._v("\n  gitlab_rails"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ldap_servers'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" YAML.load "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<-")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'EOS'")]),s._v("\n    main: "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'main' is the GitLab 'provider ID' of this LDAP server")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# label: 'LDAP'")]),s._v("\n      host: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'172.16.30.180'")]),s._v("\n      port: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("389")]),s._v("\n      uid: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'uid'")]),s._v("\n      bind_dn: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cn=admin,dc=1quant,dc=com'")]),s._v("\n      password: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xxxxxx'")]),s._v("\n      encryption: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'plain'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# "start_tls" or "simple_tls" or "plain"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# verify_certificates: true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# smartcard_auth: false")]),s._v("\n      active_directory: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n      allow_username_or_email_login: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# lowercase_usernames: false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# block_auto_created_users: false")]),s._v("\n      base: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ou=People,dc=1quant,dc=com'")]),s._v("\n      user_filter: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ## EE only")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# group_base: ''")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# admin_group: ''")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sync_ssh_keys: false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# secondary: # 'secondary' is the GitLab 'provider ID' of second LDAP server")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# label: 'LDAP'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# host: '_your_ldap_server'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# port: 389")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# uid: 'sAMAccountName'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# bind_dn: '_the_full_dn_of_the_user_you_will_bind_with'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# password: '_the_password_of_the_bind_user'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# encryption: \'plain\' # "start_tls" or "simple_tls" or "plain"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# verify_certificates: true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# smartcard_auth: false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# active_directory: true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# allow_username_or_email_login: false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# lowercase_usernames: false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# block_auto_created_users: false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# base: ''")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# user_filter: ''")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ## EE only")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# group_base: ''")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# admin_group: ''")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sync_ssh_keys: false")]),s._v("\n EOS\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br")])]),a("p",[s._v("配置完成访问界面")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/230cdbf3ea1e416d.jpg",alt:"230cdbf3ea1e416d.jpg"}})]),s._v(" "),a("h3",{attrs:{id:"_3-jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-jenkins"}},[s._v("#")]),s._v(" 3.jenkins")]),s._v(" "),a("p",[s._v("如下所示在ou组下创建jenkins组")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/0cbc180f0877c32a.jpg",alt:"0cbc180f0877c32a.jpg"}})]),s._v(" "),a("p",[s._v("jenkins配置如下")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/37be48f5a87f0858.jpg",alt:"37be48f5a87f0858.jpg"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/df672f9b9f60dff6.jpg",alt:"df672f9b9f60dff6.jpg"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/6f7036abe71a4a39.jpg",alt:"6f7036abe71a4a39.jpg"}})]),s._v(" "),a("h3",{attrs:{id:"jumpserver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jumpserver"}},[s._v("#")]),s._v(" jumpserver")]),s._v(" "),a("p",[s._v("配置如下")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/4b129659950197f7.jpg",alt:"4b129659950197f7.jpg"}})]),s._v(" "),a("p",[s._v("导入的用户")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/d974c2b8e7334482.jpg",alt:"d974c2b8e7334482.jpg"}})]),s._v(" "),a("h3",{attrs:{id:"harbor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#harbor"}},[s._v("#")]),s._v(" harbor")]),s._v(" "),a("p",[s._v("配置如下")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/9a162682d0a7be7f.jpg",alt:"9a162682d0a7be7f.jpg"}})]),s._v(" "),a("p",[s._v("注意事项：如果你的认证模式是灰色的，原因如下")]),s._v(" "),a("p",[s._v("这是因为某种认证方式下一旦有了除admin/anonymous之外的用户存在。则不能修改认证方式了。"),a("br"),s._v("\n要想修改就需要删除现有用户。而且必须是在数据库里删除用户。只在页面上删除用户，实际数据库里是把用户打了个删除标记，仍然不能修改认证方式。")]),s._v(" "),a("p",[s._v("数据库中删除用户的方法：")]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("进容器"),a("br"),s._v("\n命令忽略"),a("br"),s._v("\n2. 登库")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("psql "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-U")]),s._v(" postgres "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" registry\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("查用户")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" * from harbor_user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("删用户")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("delete  from harbor_user where "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("username")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'haha#4'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"jira"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jira"}},[s._v("#")]),s._v(" jira")]),s._v(" "),a("p",[s._v("配置如下")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/ca943b9dea62d232.jpg",alt:"ca943b9dea62d232.jpg"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/480ca226e7e6773a.jpg",alt:"480ca226e7e6773a.jpg"}})]),s._v(" "),a("h3",{attrs:{id:"confluence"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#confluence"}},[s._v("#")]),s._v(" confluence")]),s._v(" "),a("p",[s._v("配置如下")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/dd094e1c63b0cb6f.jpg",alt:"dd094e1c63b0cb6f.jpg"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"http://pic.zzppjj.top/LightPicture/2023/05/288a3137725dcf68.jpg",alt:"288a3137725dcf68.jpg"}})]),s._v(" "),a("p",[s._v("我的博客即将同步至 OSCHINA 社区，这是我的 OSCHINA ID：运维章工，邀请大家一同入驻：https://www.oschina.net/sharing-plan/apply")])])}),[],!1,null,null,null);a.default=n.exports}}]);